{"ast":null,"code":"var _jsxFileName = \"/Users/GhostKid/Desktop/facerecognitionbrain/src/Components/Article/Article.js\";\nimport React from 'react';\nimport './Article.css';\n\nclass Article extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.translate = data => {\n      this.setState({\n        loadingText: 'Loading'\n      });\n      fetch('http://localhost:3000/translate', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          word: data\n        })\n      }).then(response => response.json()).then(translation => {\n        if (translation) {\n          this.setState({\n            translation: translation\n          });\n          this.setState({\n            loadingText: ''\n          });\n        }\n      });\n    };\n\n    this.addVocab = (data, id) => {\n      this.setState({\n        loadingText: 'Loading'\n      });\n      fetch('http://localhost:3000/vocab/insert', {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id,\n          word: data\n        })\n      }).then(response => response.json());\n    };\n\n    this.onSubmitSave = () => {\n      fetch('http://localhost:3000/signin', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      }).then(response => response.json()).then(user => {\n        if (user.id) {\n          this.props.loadUser(user);\n        }\n      });\n    };\n\n    this.getSelectionText = () => {\n      if (window.getSelection) {\n        this.setState({\n          text: window.getSelection().toString()\n        });\n        this.setState({\n          translation: ''\n        });\n        this.translate(window.getSelection().toString());\n        this.setState({\n          display: 'block'\n        });\n\n        if (window.getSelection().toString() === '') {\n          this.setState({\n            display: 'none'\n          });\n        }\n      } else if (document.selection && document.selection.type !== \"Control\") {\n        this.translate(document.selection.createRange().text);\n        this.setState({\n          text: window.getSelection().toString()\n        });\n      } else {\n        this.setState({\n          translation: ''\n        });\n      }\n    };\n\n    this.state = {\n      loadingText: 'Loading',\n      translation: '',\n      text: '',\n      x: 0,\n      y: 0,\n      display: 'none',\n      email: props.email,\n      password: props.password\n    };\n  }\n\n  _onMouseUp(e) {\n    this.setState({\n      x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,\n      y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          onRouteChange = _this$props.onRouteChange,\n          reading = _this$props.reading,\n          id = _this$props.id;\n    const _this$state = this.state,\n          x = _this$state.x,\n          y = _this$state.y,\n          text = _this$state.text,\n          display = _this$state.display,\n          loadingText = _this$state.loadingText,\n          translation = _this$state.translation;\n    return React.createElement(\"div\", {\n      className: \"center\",\n      onClick: this.getSelectionText,\n      onMouseUp: this._onMouseUp.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"br white fw6 f4 lh-copy measure \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, reading, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"w-30 grow f4 link ph3 pv2 dib white bg-light-red\",\n      onClick: () => onRouteChange('home'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Back\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"infoDiv\",\n      className: \"tooltipDiv\",\n      style: {\n        display: display,\n        left: x,\n        top: y\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, loadingText, translation, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"w-40 grow f4 link ph3 pv2 dib white bg-light-blue\",\n      onClick: (() => this.addVocab(text, id), this.onSubmitSave),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Save\")));\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["/Users/GhostKid/Desktop/facerecognitionbrain/src/Components/Article/Article.js"],"names":["React","Article","Component","constructor","props","translate","data","setState","loadingText","fetch","method","headers","body","JSON","stringify","word","then","response","json","translation","addVocab","id","onSubmitSave","email","state","password","user","loadUser","getSelectionText","window","getSelection","text","toString","display","document","selection","type","createRange","x","y","_onMouseUp","e","clientX","scrollLeft","documentElement","clientY","scrollTop","render","onRouteChange","reading","bind","left","top"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;;AACA,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAoBlBC,SApBkB,GAoBPC,IAAD,IAAQ;AACd,WAAKC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAC;AAAb,OAAd;AACAC,MAAAA,KAAK,CAAC,iCAAD,EAAmC;AACpCC,QAAAA,MAAM,EAAC,MAD6B;AAEpCC,QAAAA,OAAO,EAAC;AAAC,0BAAe;AAAhB,SAF4B;AAGpCC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,UAAAA,IAAI,EAACT;AADW,SAAf;AAH+B,OAAnC,CAAL,CAOCU,IAPD,CAOMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPlB,EAQCF,IARD,CAQMG,WAAW,IAAI;AACnB,YAAGA,WAAH,EAAe;AACb,eAAKZ,QAAL,CAAc;AAACY,YAAAA,WAAW,EAACA;AAAb,WAAd;AACA,eAAKZ,QAAL,CAAc;AAACC,YAAAA,WAAW,EAAC;AAAb,WAAd;AACD;AACF,OAbD;AAcH,KApCiB;;AAAA,SAsClBY,QAtCkB,GAsCT,CAACd,IAAD,EAAMe,EAAN,KAAW;AAChB,WAAKd,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAC;AAAb,OAAd;AACAC,MAAAA,KAAK,CAAC,oCAAD,EAAsC;AACvCC,QAAAA,MAAM,EAAC,KADgC;AAEvCC,QAAAA,OAAO,EAAC;AAAC,0BAAe;AAAhB,SAF+B;AAGvCC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBO,UAAAA,EAAE,EAACA,EADa;AAEhBN,UAAAA,IAAI,EAACT;AAFW,SAAf;AAHkC,OAAtC,CAAL,CAQCU,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB;AASH,KAjDiB;;AAAA,SAkDlBI,YAlDkB,GAkDL,MAAI;AACbb,MAAAA,KAAK,CAAC,8BAAD,EAAgC;AACjCC,QAAAA,MAAM,EAAC,MAD0B;AAEjCC,QAAAA,OAAO,EAAC;AAAC,0BAAe;AAAhB,SAFyB;AAGjCC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBS,UAAAA,KAAK,EAAC,KAAKC,KAAL,CAAWD,KADD;AAEhBE,UAAAA,QAAQ,EAAC,KAAKD,KAAL,CAAWC;AAFJ,SAAf;AAH4B,OAAhC,CAAL,CAQCT,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB,EASCF,IATD,CASMU,IAAI,IAAI;AACZ,YAAGA,IAAI,CAACL,EAAR,EAAW;AACT,eAAKjB,KAAL,CAAWuB,QAAX,CAAoBD,IAApB;AACD;AACF,OAbD;AAcH,KAjEiB;;AAAA,SAkElBE,gBAlEkB,GAkED,MAAK;AAClB,UAAIC,MAAM,CAACC,YAAX,EAAyB;AACrB,aAAKvB,QAAL,CAAc;AAACwB,UAAAA,IAAI,EAACF,MAAM,CAACC,YAAP,GAAsBE,QAAtB;AAAN,SAAd;AACA,aAAKzB,QAAL,CAAc;AAACY,UAAAA,WAAW,EAAC;AAAb,SAAd;AACA,aAAKd,SAAL,CAAewB,MAAM,CAACC,YAAP,GAAsBE,QAAtB,EAAf;AACA,aAAKzB,QAAL,CAAc;AAAC0B,UAAAA,OAAO,EAAC;AAAT,SAAd;;AACA,YAAGJ,MAAM,CAACC,YAAP,GAAsBE,QAAtB,OAAmC,EAAtC,EACA;AAAC,eAAKzB,QAAL,CAAc;AAAC0B,YAAAA,OAAO,EAAC;AAAT,WAAd;AAAiC;AACrC,OAPD,MAOO,IAAIC,QAAQ,CAACC,SAAT,IAAsBD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,KAA4B,SAAtD,EAAgE;AACnE,aAAK/B,SAAL,CAAe6B,QAAQ,CAACC,SAAT,CAAmBE,WAAnB,GAAiCN,IAAhD;AACA,aAAKxB,QAAL,CAAc;AAACwB,UAAAA,IAAI,EAACF,MAAM,CAACC,YAAP,GAAsBE,QAAtB;AAAN,SAAd;AACH,OAHM,MAGF;AACD,aAAKzB,QAAL,CAAc;AAACY,UAAAA,WAAW,EAAC;AAAb,SAAd;AACH;AACJ,KAhFiB;;AAEd,SAAKK,KAAL,GAAW;AACPhB,MAAAA,WAAW,EAAC,SADL;AAEPW,MAAAA,WAAW,EAAC,EAFL;AAGPY,MAAAA,IAAI,EAAC,EAHE;AAIPO,MAAAA,CAAC,EAAE,CAJI;AAKPC,MAAAA,CAAC,EAAE,CALI;AAMPN,MAAAA,OAAO,EAAC,MAND;AAOPV,MAAAA,KAAK,EAACnB,KAAK,CAACmB,KAPL;AAQPE,MAAAA,QAAQ,EAACrB,KAAK,CAACqB;AARR,KAAX;AAUH;;AACDe,EAAAA,UAAU,CAACC,CAAD,EAAI;AACV,SAAKlC,QAAL,CAAc;AACV+B,MAAAA,CAAC,EAAEG,CAAC,CAACC,OAAF,GAAYR,QAAQ,CAACtB,IAAT,CAAc+B,UAA1B,GACDT,QAAQ,CAACU,eAAT,CAAyBD,UAFjB;AAGVJ,MAAAA,CAAC,EAAEE,CAAC,CAACI,OAAF,GAAYX,QAAQ,CAACtB,IAAT,CAAckC,SAA1B,GACDZ,QAAQ,CAACU,eAAT,CAAyBE;AAJjB,KAAd;AAKD;;AA8DHC,EAAAA,MAAM,GAAE;AAAA,wBACwB,KAAK3C,KAD7B;AAAA,UACF4C,aADE,eACFA,aADE;AAAA,UACYC,OADZ,eACYA,OADZ;AAAA,UACoB5B,EADpB,eACoBA,EADpB;AAAA,wBAEwC,KAAKG,KAF7C;AAAA,UAEFc,CAFE,eAEFA,CAFE;AAAA,UAEAC,CAFA,eAEAA,CAFA;AAAA,UAEER,IAFF,eAEEA,IAFF;AAAA,UAEOE,OAFP,eAEOA,OAFP;AAAA,UAEezB,WAFf,eAEeA,WAFf;AAAA,UAE2BW,WAF3B,eAE2BA,WAF3B;AAGR,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAyB,MAAA,OAAO,EAAE,KAAKS,gBAAvC;AAAyD,MAAA,SAAS,EAAE,KAAKY,UAAL,CAAgBU,IAAhB,CAAqB,IAArB,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,OADL,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AACI,MAAA,SAAS,EAAC,kDADd;AAEI,MAAA,OAAO,EAAE,MAAID,aAAa,CAAC,MAAD,CAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,EAUI;AACA,MAAA,EAAE,EAAC,SADH;AAEA,MAAA,SAAS,EAAC,YAFV;AAGA,MAAA,KAAK,EAAE;AAACf,QAAAA,OAAO,EAACA,OAAT;AAAiBkB,QAAAA,IAAI,EAACb,CAAtB;AAAwBc,QAAAA,GAAG,EAACb;AAA5B,OAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIC/B,WAJD,EAIcW,WAJd,EAI0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJ1B,EAKI;AACI,MAAA,SAAS,EAAC,mDADd;AAEI,MAAA,OAAO,GAAE,MAAI,KAAKC,QAAL,CAAcW,IAAd,EAAmBV,EAAnB,CAAJ,EAA2B,KAAKC,YAAlC,CAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CAVJ,CADJ;AAyBH;;AA9GqC;;AAiHtC,eAAerB,OAAf","sourcesContent":["import React from 'react';\nimport './Article.css';\nclass Article extends React.Component {\n    constructor(props){\n        super(props);\n        this.state={\n            loadingText:'Loading',\n            translation:'',\n            text:'', \n            x: 0, \n            y: 0,\n            display:'none',\n            email:props.email,\n            password:props.password\n        }\n    }\n    _onMouseUp(e) {\n        this.setState({ \n            x: e.clientX + document.body.scrollLeft\n            + document.documentElement.scrollLeft, \n            y: e.clientY + document.body.scrollTop\n            + document.documentElement.scrollTop });\n      }\n    translate=(data)=>{\n        this.setState({loadingText:'Loading'});\n        fetch('http://localhost:3000/translate',{\n            method:'post',\n            headers:{'Content-Type':'application/json'},\n            body:JSON.stringify({\n                word:data\n            })\n        })\n        .then(response => response.json())\n        .then(translation => {\n          if(translation){\n            this.setState({translation:translation})\n            this.setState({loadingText:''})\n          }\n        })\n    }\n  \n    addVocab=(data,id)=>{\n        this.setState({loadingText:'Loading'});\n        fetch('http://localhost:3000/vocab/insert',{\n            method:'put',\n            headers:{'Content-Type':'application/json'},\n            body:JSON.stringify({\n                id:id,\n                word:data\n            })\n        })\n        .then(response => response.json())\n    }\n    onSubmitSave=()=>{\n        fetch('http://localhost:3000/signin',{\n            method:'post',\n            headers:{'Content-Type':'application/json'},\n            body:JSON.stringify({\n                email:this.state.email,\n                password:this.state.password\n            })\n        })\n        .then(response => response.json())\n        .then(user => {\n          if(user.id){\n            this.props.loadUser(user);\n          }\n        })\n    }\n    getSelectionText=()=> {\n        if (window.getSelection) {\n            this.setState({text:window.getSelection().toString()});\n            this.setState({translation:''});\n            this.translate(window.getSelection().toString());\n            this.setState({display:'block'});\n            if(window.getSelection().toString()==='')\n            {this.setState({display:'none'});}\n        } else if (document.selection && document.selection.type !== \"Control\"){\n            this.translate(document.selection.createRange().text);\n            this.setState({text:window.getSelection().toString()});\n        }else{\n            this.setState({translation:''});\n        }\n    }\n    render(){\n    const{onRouteChange,reading,id}=this.props;\n    const{x,y,text,display,loadingText,translation}=this.state;\n    return(\n        <div className=\"center\"  onClick={this.getSelectionText} onMouseUp={this._onMouseUp.bind(this)}>\n            <p className=\"br white fw6 f4 lh-copy measure \">\n                {reading}\n                <br/>\n                <button \n                    className='w-30 grow f4 link ph3 pv2 dib white bg-light-red' \n                    onClick={()=>onRouteChange('home')}\n                    >Back</button>\n            </p>\n            <br/>\n            <div \n            id=\"infoDiv\" \n            className=\"tooltipDiv\" \n            style={{display:display,left:x,top:y}}>\n            {loadingText}{translation}<br/>\n                <button \n                    className='w-40 grow f4 link ph3 pv2 dib white bg-light-blue' \n                    onClick={()=>this.addVocab(text,id),this.onSubmitSave}\n                    >Save\n                </button>\n            \n            </div>\n        </div>  \n    );\n}\n}\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}