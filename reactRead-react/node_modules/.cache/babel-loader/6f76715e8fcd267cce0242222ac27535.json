{"ast":null,"code":"var _jsxFileName = \"/Users/GhostKid/Desktop/facerecognitionbrain/src/Components/Article/Article.js\";\nimport React, { MouseEvent } from 'react';\nimport './Article.css';\nimport * as $ from 'jquery';\n\nclass Article extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.popup = event => {\n      var selectedText = this.getSelectedText();\n\n      if (selectedText.replace(/\\s/g, '').length) {\n        if (selectedText && selectedText !== \"\") {\n          $('#infoDiv').css('display', 'block');\n          $('#infoDiv').css('position', 'absolute');\n          $('#infoDiv').css('left', event.pageX);\n          $('#infoDiv').css('top', event.pageY);\n        } else {\n          $('#infoDiv').css('display', 'none');\n        }\n\n        ;\n      } else {\n        $('#infoDiv').css('display', 'none');\n      }\n    };\n\n    this.translate = data => {\n      fetch('http://localhost:3000/translate', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          word: data\n        })\n      }).then(response => response.json()).then(translation => {\n        if (translation) {\n          this.setState({\n            text: translation\n          });\n        }\n      });\n    };\n\n    this.getSelectedText = () => {\n      if (window.getSelection) {\n        this.setState({\n          text: this.translate(window.getSelection().toString())\n        });\n      } else if (document.selection && document.selection.type !== \"Control\") {\n        this.setState({\n          text: this.translate(document.selection.createRange().text)\n        });\n      } else {\n        this.setState({\n          text: ''\n        });\n      }\n\n      return this.state.text;\n    };\n\n    this.state = {\n      text: 'init'\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          onRouteChange = _this$props.onRouteChange,\n          reading = _this$props.reading;\n    return React.createElement(\"div\", {\n      className: \"center\",\n      onMouseUp: [this.getSelectedText, this.popup],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"br white fw6 f4 lh-copy measure \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, reading, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"w-30 grow f4 link ph3 pv2 dib white bg-light-red\",\n      onClick: () => onRouteChange('home'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Back\"), this.state.text));\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["/Users/GhostKid/Desktop/facerecognitionbrain/src/Components/Article/Article.js"],"names":["React","MouseEvent","$","Article","Component","constructor","props","popup","event","selectedText","getSelectedText","replace","length","css","pageX","pageY","translate","data","fetch","method","headers","body","JSON","stringify","word","then","response","json","translation","setState","text","window","getSelection","toString","document","selection","type","createRange","state","render","onRouteChange","reading"],"mappings":"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","sourcesContent":["import React ,{MouseEvent}from 'react';\nimport './Article.css';\nimport * as $ from 'jquery';\nclass Article extends React.Component {\n    constructor(props){\n        super(props);\n        this.state={\n            text:'init'\n        }\n    }\n    popup=(event: MouseEvent)=> {\n        var selectedText = this.getSelectedText();\n        if (selectedText.replace(/\\s/g, '').length) {\n        if (selectedText&&selectedText!==\"\") {\n          $('#infoDiv').css('display', 'block');\n          $('#infoDiv').css('position', 'absolute');\n          $('#infoDiv').css('left', event.pageX );\n          $('#infoDiv').css('top', event.pageY );\n        } else {\n          $('#infoDiv').css('display', 'none');\n          };\n        }\n        else{  $('#infoDiv').css('display', 'none');}\n      }\n    translate=(data)=>{\n        fetch('http://localhost:3000/translate',{\n            method:'post',\n            headers:{'Content-Type':'application/json'},\n            body:JSON.stringify({\n                word:data\n            })\n        })\n        .then(response => response.json())\n        .then(translation => {\n          if(translation){\n            this.setState({text:translation})\n          }\n        })\n    }\n    getSelectedText=()=> {\n        if (window.getSelection) {\n            this.setState({text:this.translate(window.getSelection().toString())});\n        } else if (document.selection && document.selection.type !== \"Control\"){\n            this.setState({text:this.translate(document.selection.createRange().text)});\n        }else{\n            this.setState({text:''});\n        }\n        return this.state.text;\n    }\n    render(){\n    const{onRouteChange,reading}=this.props;\n    return(\n        <div className=\"center\" onMouseUp={[this.getSelectedText,this.popup]}>\n            <p className=\"br white fw6 f4 lh-copy measure \">\n                {reading}\n                <br/>\n                <button \n                    className='w-30 grow f4 link ph3 pv2 dib white bg-light-red' \n                    onClick={()=>onRouteChange('home')\n                }\n                    >Back</button>\n                {this.state.text}\n            </p>\n        </div>  \n    );\n}\n}\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}